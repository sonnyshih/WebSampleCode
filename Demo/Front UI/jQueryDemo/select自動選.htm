<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Handle Value Demo</title>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<script>

	var matchRoundTreeDate = [{"id":"b90adc96-e463-48fd-a78c-7ce6362b4596","title":"","available":1,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":null,"updateBy":null,"list":[{"id":"3bdaf6f7-1371-4909-a916-04cda9949d3b","roundNo":1,"startDate":"2022-07-01","endDate":"2022-07-31","available":1,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:51.000+08:00","updateBy":"admin","matchRound":{"id":"b90adc96-e463-48fd-a78c-7ce6362b4596","title":"","available":1,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":null,"updateBy":null}},{"id":"53d949b6-5c7f-45af-b213-c4c73a34fd17","roundNo":2,"startDate":null,"endDate":null,"available":0,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":null,"updateBy":null,"matchRound":{"id":"b90adc96-e463-48fd-a78c-7ce6362b4596","title":"","available":1,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":null,"updateBy":null}},{"id":"17f6a1e8-dac9-4a72-8ea9-44afa510304f","roundNo":3,"startDate":null,"endDate":null,"available":0,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":null,"updateBy":null,"matchRound":{"id":"b90adc96-e463-48fd-a78c-7ce6362b4596","title":"","available":1,"createAt":"2022-07-01T15:51:39.000+08:00","createBy":"admin","updateAt":null,"updateBy":null}}]},{"id":"4192e902-83e2-4ed2-bf3f-8888138839ee","title":"","available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":null,"updateBy":null,"list":[{"id":"8471aced-1d48-46bb-84f1-8a6c1253f110","roundNo":1,"startDate":"2022-07-01","endDate":"2022-07-31","available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:26.000+08:00","updateBy":"admin","matchRound":{"id":"4192e902-83e2-4ed2-bf3f-8888138839ee","title":"","available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:26.000+08:00","updateBy":"admin"}},{"id":"edbf8b5e-d30c-4786-9b27-9b900da5e7c8","roundNo":2,"startDate":null,"endDate":null,"available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:26.000+08:00","updateBy":"admin","matchRound":{"id":"4192e902-83e2-4ed2-bf3f-8888138839ee","title":"","available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:26.000+08:00","updateBy":"admin"}},{"id":"4d7c50de-a4b4-4e40-a57c-d988dc177535","roundNo":3,"startDate":null,"endDate":null,"available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:26.000+08:00","updateBy":"admin","matchRound":{"id":"4192e902-83e2-4ed2-bf3f-8888138839ee","title":"","available":0,"createAt":"2022-07-01T15:49:08.000+08:00","createBy":"admin","updateAt":"2022-07-01T15:51:26.000+08:00","updateBy":"admin"}}]}];

	$(function(){
		initMatchRoundSelect();
	});

	function initMatchRoundSelect(){
		$("#matchRoundID").change(function(){
			var matchRoundID = $(this).val()

			matchRoundTreeDate.forEach(function(value){
				if (value.id == matchRoundID) {
					$("#roundID").empty();
					$("#roundID").append("<option value=''>請選擇輪次</option>");
					let round = value.list
					round.forEach(function (roundValue){
						$("#roundID").append("<option value='"+ roundValue.id +"'>第 "+ roundValue.roundNo +" 輪</option>");
					});
				}
			});

		});

		// 選擇後會trigger change
		$('#matchRoundID').val("4192e902-83e2-4ed2-bf3f-8888138839ee").change();

		// 自動選擇
		$('#roundID').val("edbf8b5e-d30c-4786-9b27-9b900da5e7c8")

	}

</script>

</head>
<body>
<div class="col-12 col-md">
	<div class="row g-2">
		<div class="col-sm-4 col-lg-2">
			<div class="form-group">
				<select class="form-control" id="matchRoundID" name="matchRoundID">
					<option value="">請選擇年度</option>
					<option value="b90adc96-e463-48fd-a78c-7ce6362b4596">2022-07-01</option>
					<option value="4192e902-83e2-4ed2-bf3f-8888138839ee">2022-07-01</option>
				</select>
			</div>
		</div>
		<div class="col-sm-4 col-lg-2">
			<div class="form-group">
				<select class="form-control" id="roundID" name="roundID">
					<option value="">請選擇輪次</option>
				</select>
			</div>
		</div>
	</div>
</div>

</body>

</html>