<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>JS Bin</title>

<script type="text/javascript" language="javascript">

	function checkFileExtension(uploadField, extArray) {
		var fileObj = document.getElementById(uploadField);
		let fileArray = fileObj.files;

		var isRight = true;
		for (var i = 0; i < fileArray.length; i++) {
			let filename = fileArray[i].name.toLowerCase();
			var fileExt = filename.substring(filename.lastIndexOf('.')+1);
			if (extArray.indexOf(fileExt) < 0) {
				isRight = false;
			}
		}

		return isRight;
	}

	function send(){
		let filename = document.getElementById("my_file");
		if(filename.files.length == 0){
			alert("請選擇上傳檔案")
			return;
		}

		let ext = ["mp4", "jpg"];
		let isRight = checkFileExtension("my_file", ext);
		if (!isRight){
			alert("上傳檔案格式不正確");
		} else {
			alert("格式正確");
		}

	}
</script>

</head>
<body>
<h3>##### 送出前檢查 做法 ######</h3>
	<form method="post" enctype="multipart/form-data">
		<input type="file" id="my_file" name="my_file" multiple/>
		&nbsp;
		<input type="button" value="Upload" onClick="send()">
	</form>
	<br>
</body>
</html>